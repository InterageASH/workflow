#!/bin/bash

# Create a release.
#
# Usage
#
#       $ bin/create_release <release-version> <commit-hash>
#
# Example
#
#       $ bin/create_release v0.0.1

set -e

RELEASE_VERSION=${1}
COMMIT_HASH=${2}

git flow release start $RELEASE_VERSION $COMMIT_HASH
bin/bumpversion
git flow release finish $RELEASE_VERSION $COMMIT_HASH
git push --tags
git push origin develop
git checkout master && git merge develop
git push origin master
